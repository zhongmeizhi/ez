{"version":3,"sources":["src/ez.esm.js","src/main.js"],"names":["isArr","Array","isArray","flattenArray","arr","some","item","concat","isText","val","isExist","v","getKeys","Object","keys","h","type","attrs","props","key","ref","children","i","arguments","length","vnode","createText","push","nodeValue","createChildren","parentElm","refElm","$ele","document","createTextNode","createElement","console","log","propKey","setAttribute","appendChild","render","node","done","Ez","App","querySelector"],"mappings":"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","file":"main.1e43358e.js","sourceRoot":"..","sourcesContent":["const isArr = Array.isArray;\nconst flattenArray = arr => {\n  while (isArr(arr) && arr.some(item => isArr(item))) {\n    arr = [].concat(...arr);\n  }\n\n  return arr;\n};\nconst isText = val => typeof val === 'number' || typeof val === 'string';\nconst isExist = v => v != null && v !== false && v !== true;\nconst getKeys = Object.keys;\n\nconst h = function (type, attrs) {\n  let props = attrs || {};\n  let key = props.key || null;\n  let ref = props.ref || null;\n  let children = [];\n\n  for (let i = 2; i < arguments.length; i++) {\n    let vnode = arguments[i];\n\n    if (isExist(vnode)) {\n      flattenArray(vnode);\n\n      if (isText(vnode)) {\n        vnode = createText(vnode);\n      }\n\n      children.push(vnode);\n    }\n  }\n\n  if (children.length) {\n    props.children = children.length === 1 ? children[0] : children;\n  }\n\n  return {\n    type,\n    props,\n    key,\n    ref\n  };\n};\nfunction createText(vnode) {\n  return {\n    type: 'text',\n    props: {\n      nodeValue: vnode\n    }\n  };\n}\n\nconst createChildren = (vnode, parentElm, refElm) => {\n  // document.createDocumentFragment()\n  let v = typeof vnode.type === 'function' ? vnode.type() : vnode;\n  const props = v.props || {};\n  const $ele = v.type === 'text' ? document.createTextNode(props.nodeValue) : document.createElement(v.type);\n\n  if (props.children) {\n    createChildren(props.children, $ele);\n  }\n\n  console.log(props, 'x');\n\n  for (let propKey of getKeys(props)) {\n    if (propKey !== 'children') {\n      const val = props[propKey];\n      $ele.setAttribute && $ele.setAttribute(propKey, val);\n    }\n  } // updateElement($ele);\n\n\n  parentElm.appendChild($ele);\n};\n\nconst render = (vnode, node, done) => {\n  createChildren(vnode, node);\n};\n\nconst Ez = {\n  h,\n  createElement: h,\n  render\n};\n\nexport default Ez;\nexport { h as createElement, h, render };\n","import { h, render } from \"./ez.esm\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"home-page\">\r\n      <button className=\"btn\">1111</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nrender(<App />, document.querySelector(\"#app\"))"]}